
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
        <meta name="author" content="CLIMB-TRE">
      
      
        <link rel="canonical" href="https://climb-tre.github.io/onyx-extension/gui/documentation/querying-data/">
      
      
        <link rel="prev" href="../quick-start/">
      
      
        <link rel="next" href="../profiles-and-sites/">
      
      
        
      
      
      <link rel="icon" href="../../../assets/logo.svg">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.1">
    
    
      
        <title>Querying Data - Onyx | JupyterLab Extension</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.484c7ddc.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="black" data-md-color-accent="custom">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#querying-data" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="https://climb-tre.github.io/onyx/" title="Onyx | JupyterLab Extension" class="md-header__button md-logo" aria-label="Onyx | JupyterLab Extension" data-md-component="logo">
      
  <img src="../../../assets/logo.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Onyx | JupyterLab Extension
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Querying Data
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="black" data-md-color-accent="custom"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5s-1.65.15-2.39.42zM3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29zm.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14zM20.65 7l-1.77 3.79a7.02 7.02 0 0 0-2.38-4.15zm-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29zM12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="black" data-md-color-accent="custom"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/CLIMB-TRE/onyx-extension/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    CLIMB-TRE/onyx-extension
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="https://climb-tre.github.io/onyx/" class="md-tabs__link">
        
  
  
    
  
  Overview

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="https://climb-tre.github.io/onyx-client/" class="md-tabs__link">
        
  
  
    
  
  CLI & Python API

      </a>
    </li>
  

      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../../.." class="md-tabs__link">
          
  
  
  JupyterLab Extension

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="https://climb-tre.github.io/onyx/fields/types/" class="md-tabs__link">
          
  
  
  Types & Lookups

        </a>
      </li>
    
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="https://climb-tre.github.io" class="md-tabs__link">
        
  
  
    
  
  CLIMB-TRE

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="https://climb-tre.github.io/onyx/" title="Onyx | JupyterLab Extension" class="md-nav__button md-logo" aria-label="Onyx | JupyterLab Extension" data-md-component="logo">
      
  <img src="../../../assets/logo.svg" alt="logo">

    </a>
    Onyx | JupyterLab Extension
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/CLIMB-TRE/onyx-extension/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    CLIMB-TRE/onyx-extension
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="https://climb-tre.github.io/onyx/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Overview
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="https://climb-tre.github.io/onyx-client/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    CLI & Python API
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
      
        
        
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    JupyterLab Extension
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    JupyterLab Extension
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Overview
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../installation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Installation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3_3" id="__nav_3_3_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    Graphical User Interface
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Graphical User Interface
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../quick-start/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Quick Start
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    Querying Data
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    Querying Data
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#filtering-data" class="md-nav__link">
    <span class="md-ellipsis">
      
        Filtering Data
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Filtering Data">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#defining-the-query" class="md-nav__link">
    <span class="md-ellipsis">
      
        Defining the query
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#building-the-query" class="md-nav__link">
    <span class="md-ellipsis">
      
        Building the query
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Building the query">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#adding-a-filter" class="md-nav__link">
    <span class="md-ellipsis">
      
        Adding a Filter
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#more-filters" class="md-nav__link">
    <span class="md-ellipsis">
      
        More Filters
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nested-filters" class="md-nav__link">
    <span class="md-ellipsis">
      
        Nested Filters
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#query-results" class="md-nav__link">
    <span class="md-ellipsis">
      
        Query Results
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#editing-columns" class="md-nav__link">
    <span class="md-ellipsis">
      
        Editing Columns
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#exporting-results" class="md-nav__link">
    <span class="md-ellipsis">
      
        Exporting Results
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Exporting Results">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#exporting-to-csvtsv" class="md-nav__link">
    <span class="md-ellipsis">
      
        Exporting to CSV/TSV
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#copying-to-the-onyx-cli" class="md-nav__link">
    <span class="md-ellipsis">
      
        Copying to the Onyx CLI
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../profiles-and-sites/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Profiles & Sites
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Types & Lookups
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    Types & Lookups
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="https://climb-tre.github.io/onyx/fields/types/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Types
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="https://climb-tre.github.io/onyx/fields/lookups/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Lookups
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="https://climb-tre.github.io" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    CLIMB-TRE
  

    
  </span>
  
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#filtering-data" class="md-nav__link">
    <span class="md-ellipsis">
      
        Filtering Data
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Filtering Data">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#defining-the-query" class="md-nav__link">
    <span class="md-ellipsis">
      
        Defining the query
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#building-the-query" class="md-nav__link">
    <span class="md-ellipsis">
      
        Building the query
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Building the query">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#adding-a-filter" class="md-nav__link">
    <span class="md-ellipsis">
      
        Adding a Filter
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#more-filters" class="md-nav__link">
    <span class="md-ellipsis">
      
        More Filters
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nested-filters" class="md-nav__link">
    <span class="md-ellipsis">
      
        Nested Filters
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#query-results" class="md-nav__link">
    <span class="md-ellipsis">
      
        Query Results
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#editing-columns" class="md-nav__link">
    <span class="md-ellipsis">
      
        Editing Columns
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#exporting-results" class="md-nav__link">
    <span class="md-ellipsis">
      
        Exporting Results
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Exporting Results">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#exporting-to-csvtsv" class="md-nav__link">
    <span class="md-ellipsis">
      
        Exporting to CSV/TSV
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#copying-to-the-onyx-cli" class="md-nav__link">
    <span class="md-ellipsis">
      
        Copying to the Onyx CLI
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="querying-data">Querying Data<a class="headerlink" href="#querying-data" title="Permanent link">&para;</a></h1>
<p>Records and analyses share the same interface and functionality for browsing.</p>
<p><img alt="" src="../../../img/records.png" /></p>
<p>This includes:</p>
<ul>
<li>A <code>Search</code> bar, for basic substring matching against visible fields.</li>
<li>The <code>Filter</code> panel, for adding filters against visible, non-visible and nested fields.</li>
<li>The <code>Summarise</code> panel, for computing the number of items per summary group, as specified by the selected fields.</li>
<li>The <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 21H8V7h11m0-2H8a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h11a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2m-3-4H4a2 2 0 0 0-2 2v14h2V3h12z"/></svg></span> <code>Copy CLI Command</code>, for copying the current filters and summary fields into a command for the Onyx <a href="https://climb-tre.github.io/onyx-client/cli/documentation/#onyx-filter">command-line interface</a>.</li>
<li>The results panel, <code>Records</code> or <code>Analyses</code>, that displays results matching the current query. Here, results can be re-ordered, as well as exported via the table <code>Options</code> dropdown. The <code>Edit Columns</code> button can also be used to change the returned columns.</li>
</ul>
<p>We will now learn how to filter, aggregate and export data using this interface.</p>
<h2 id="filtering-data">Filtering Data<a class="headerlink" href="#filtering-data" title="Permanent link">&para;</a></h2>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p><code>synthSCAPE</code> is an Onyx project within <a href="https://climb-tre.github.io/">CLIMB-TRE</a> for hosting simulated metagenomic data as part of <a href="https://mscape.climb.ac.uk/">mSCAPE</a>, a world-leading initiative trialling the use of metagenomic data for public health surveillance.</p>
<p>You can find the metadata schema for the synthSCAPE Onyx project <a href="https://climb-tre.github.io/synthscape-analysis/">here</a>.</p>
</div>
<h3 id="defining-the-query">Defining the query<a class="headerlink" href="#defining-the-query" title="Permanent link">&para;</a></h3>
<p>We are going to add filters on the <code>synthSCAPE</code> dataset to solve the following problem:</p>
<div class="admonition quote">
<p class="admonition-title">Query</p>
<p>Match all synthSCAPE records from 2025 that have a sequence purpose, a run ID of either <code>R-14EC71EBA7</code> or <code>R-F42A056185</code>, and contain at least 100 reads of <code>Influenza A Virus</code> (taxon ID <code>11320</code>).</p>
</div>
<p>This query can be broken down into the following criteria:</p>
<ol>
<li>The <code>published_date</code> must be greater than or equal to <code>2025-01-01</code>.</li>
<li>The <code>sequence_purpose</code> must not be blank.</li>
<li>The <code>run_id</code> must be either <code>R-14EC71EBA7</code> or <code>R-F42A056185</code>.</li>
<li>Each record's <code>classifier_calls</code> must contain <em>at least</em> one entry matching the condition:<ul>
<li><code>(taxon_id == 11320) AND (count_descendants &gt;= 100)</code></li>
</ul>
</li>
</ol>
<h3 id="building-the-query">Building the query<a class="headerlink" href="#building-the-query" title="Permanent link">&para;</a></h3>
<h4 id="adding-a-filter">Adding a Filter<a class="headerlink" href="#adding-a-filter" title="Permanent link">&para;</a></h4>
<p>To add a new filter, click the <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75z"/></svg></span> icon on the <code>Filter</code> panel:</p>
<p><img alt="" src="../../../img/filter.png" /></p>
<p>This creates an empty filter with the title <code>Click to Edit</code>.</p>
<p><img alt="" src="../../../img/empty_filter.png" /></p>
<p>Clicking on this filter will open its settings:</p>
<p><img alt="" src="../../../img/edit_filter.png" /></p>
<p>We will edit the filter as following:</p>
<ul>
<li>Set the field to <code>published_date</code>.</li>
<li>Set the lookup to <code>gte</code> (greater than or equal).</li>
<li>Set the value to <code>2025-01-01</code>.</li>
</ul>
<p><img alt="" src="../../../img/published_date_filter.png" /></p>
<p>Then hit <code>Apply</code> to filter to the dataset:</p>
<p><img alt="" src="../../../img/published_date_results.png" /></p>
<p>As we can see, the dataset has been filtered to return only records with a <code>published_date</code> greater than or equal to <code>2025-01-01</code>.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>In this example, we have used the <code>gte</code> (greater than or equal) lookup for <code>published_date</code>. However, we could also use the <code>iso_year</code> lookup and set this to <code>2025</code> instead. </p>
</div>
<h4 id="more-filters">More Filters<a class="headerlink" href="#more-filters" title="Permanent link">&para;</a></h4>
<p>To add the second filter, we create another filter with:</p>
<ul>
<li>Field: <code>sequence_purpose</code></li>
<li>Lookup: <code>isnull</code></li>
<li>Value: <code>false</code></li>
</ul>
<p>And to add the third filter, we create another filter with:</p>
<ul>
<li>Field: <code>run_id</code></li>
<li>Lookup: <code>in</code></li>
<li>Values: <code>R-14EC71EBA7</code>, <code>R-F42A056185</code></li>
</ul>
<p>The dataset has now been filtered further:</p>
<p><img alt="" src="../../../img/almost_all_filters.png" /></p>
<h4 id="nested-filters">Nested Filters<a class="headerlink" href="#nested-filters" title="Permanent link">&para;</a></h4>
<p>To match the final requirement, we need to create two <strong>nested filters</strong>:</p>
<p>Nested filter 1:</p>
<ul>
<li>Field: <code>classifier_calls__taxon_id</code></li>
<li>Lookup: <code>exact</code></li>
<li>Value: <code>11320</code></li>
</ul>
<p>Nested filter 2:</p>
<ul>
<li>Field: <code>classifier_calls__count_descendents</code></li>
<li>Lookup: <code>gte</code></li>
<li>Value: <code>100</code></li>
</ul>
<p>Each record in <code>synthSCAPE</code> contains multiple <code>classifier_calls</code> entries, that correspond to the taxa identified by <a href="https://github.com/DerrickWood/kraken2">Kraken2</a> within the sample. These <code>classifier_calls</code> entries also contain information such as the number of reads matched to each taxon, as well as the <a href="https://en.wikipedia.org/wiki/Taxonomic_rank">taxonomic rank</a>.</p>
<p>When we apply the first nested filter to this <code>classifier_calls</code> table, Onyx will return all records which have <em>at least</em> one <code>classifier_call</code> with <code>taxon_id == 11320</code>. </p>
<p>When we apply both nested filters, Onyx will return all records which have <em>at least</em> one <code>classifier_calls</code> entry matching <strong>both</strong> <code>taxon_id == 11320</code> and <code>count_descendents &gt;= 100</code>. </p>
<h3 id="query-results">Query Results<a class="headerlink" href="#query-results" title="Permanent link">&para;</a></h3>
<p><img alt="" src="../../../img/all_filters.png" /></p>
<p>As we can see, we have now filtered the dataset from the initial 8310 records down to just 388 records that match the target query.</p>
<p>We can click on the first record, <code>C-DCF8C67DDF</code>, and navigate down to the <code>Classifier Calls</code> table and confirm over 100 reads matching <code>Influenza A Virus</code>:</p>
<p><img alt="" src="../../../img/record_classifier_calls.png" /></p>
<h3 id="editing-columns">Editing Columns<a class="headerlink" href="#editing-columns" title="Permanent link">&para;</a></h3>
<p>Going back to the results view, we may want to fix the columns that get returned from filtering. This will also speed up any later exports, as we are only exporting the columns that we need.</p>
<p>We can open the columns editor by clicking the <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M22 20V4c0-1.1-.9-2-2-2H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2M4 6.5V4h16v2.5zM4 11V8.5h16V11zm0 4.5V13h16v2.5zM4 20v-2.5h16V20z"/></svg></span> <code>Edit Columns</code> button:</p>
<p><img alt="" src="../../../img/edit_columns.png" /></p>
<p>We will select the columns <code>climb_id</code>, <code>site</code>, <code>published_date</code>, <code>sequence_purpose</code> and <code>ingest_report</code>:</p>
<p><img alt="" src="../../../img/edit_columns_selected.png" /></p>
<p>Then hit <code>Apply</code>, and only the columns we are interested in are returned:</p>
<p><img alt="" src="../../../img/columns_edited.png" /></p>
<h3 id="exporting-results">Exporting Results<a class="headerlink" href="#exporting-results" title="Permanent link">&para;</a></h3>
<h4 id="exporting-to-csvtsv">Exporting to CSV/TSV<a class="headerlink" href="#exporting-to-csvtsv" title="Permanent link">&para;</a></h4>
<p>We have our filtered records and the columns we are interested in. Now, we want to export this data to a CSV or TSV within JupyterLab for continued analysis.</p>
<p>Navigate down to the <code>Options</code> menu at the bottom-right of the results table, and select <code>Export to CSV/TSV</code>:</p>
<p><img alt="" src="../../../img/export.png" /></p>
<p>Here, we can see a default generated name for the file, and options to switch between CSV and TSV formats:</p>
<p><img alt="" src="../../../img/nearly_export.png" /></p>
<p>We will keep the default name and choose <code>.csv</code>.</p>
<p>Clicking <code>Export</code> will then pull the requested data, and create a CSV file in JupyterLab:</p>
<p><img alt="" src="../../../img/export_finished.png" /></p>
<h4 id="copying-to-the-onyx-cli">Copying to the Onyx CLI<a class="headerlink" href="#copying-to-the-onyx-cli" title="Permanent link">&para;</a></h4>
<p>If we wish to transfer our filters to the Onyx command-line interface, we can click <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 21H8V7h11m0-2H8a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h11a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2m-3-4H4a2 2 0 0 0-2 2v14h2V3h12z"/></svg></span> <code>Copy CLI Command</code>:</p>
<p><img alt="" src="../../../img/copy_cli_command.png" /></p>
<p>Then paste this into a terminal:</p>
<p><img alt="" src="../../../img/terminal_paste.png" /></p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 21H8V7h11m0-2H8a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h11a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2m-3-4H4a2 2 0 0 0-2 2v14h2V3h12z"/></svg></span> <code>Copy CLI Command</code> only copies filters and summary fields; it does <strong>not</strong> transfer column and format settings.</p>
</div>
<p>We can edit the fields/format with the <code>--include</code> and <code>--format</code> arguments, and filter the dataset:</p>
<p><img alt="" src="../../../img/terminal_filter.png" /></p>
<!-- ## Aggregating Data -->












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="../quick-start/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Quick Start">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                Quick Start
              </div>
            </div>
          </a>
        
        
          
          <a href="../profiles-and-sites/" class="md-footer__link md-footer__link--next" aria-label="Next: Profiles &amp; Sites">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                Profiles & Sites
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../../..", "features": ["navigation.tabs", "navigation.top", "navigation.sections", "navigation.footer", "content.code.copy"], "search": "../../../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../../assets/javascripts/bundle.79ae519e.min.js"></script>
      
    
  </body>
</html>